package com.dsgn;


import java.time.LocalDateTime;

class TimeService {
    // Single instance
    private static TimeService instance;

    // Timestamps
    private final LocalDateTime creationTime;
    private LocalDateTime lastAccessTime;

    // Private constructor
    private TimeService() {
        creationTime = LocalDateTime.now();
        lastAccessTime = creationTime;
    }

    // Public method to get instance
    public static TimeService getInstance() {
        if (instance == null) {
            instance = new TimeService();
        }
        instance.lastAccessTime = LocalDateTime.now();
        return instance;
    }

    public LocalDateTime getCreationTime() {
        return creationTime;
    }

    public LocalDateTime getLastAccessTime() {
        return lastAccessTime;
    }
}

public class SingletonTimestamp {
    public static void main(String[] args) throws InterruptedException {
        TimeService t1 = TimeService.getInstance();
        System.out.println("Created at: " + t1.getCreationTime());
        System.out.println("Last accessed: " + t1.getLastAccessTime());

        Thread.sleep(2000); // Simulate delay

        TimeService t2 = TimeService.getInstance();
        System.out.println("Same instance? " + (t1 == t2));
        System.out.println("Last accessed after second call: " + t2.getLastAccessTime());
    }
}
